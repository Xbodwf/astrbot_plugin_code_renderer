# 代码预览器插件

将代码渲染为精美图片并发送给用户。

## 功能特性

- 主流编程语言的语法高亮
- 多种代码主题可选
- 支持自定义字体、字体大小等
- 自动检测代码语言

使用`Highlight.js`.


- **支持参数指定渲染选项**

## 使用方法

### 渲染代码

```
/render
[参数]
```

引用一条包含代码的消息，然后发送 `/render`

```
/render_file
[参数]
```

引用一个代码文件，然后发送 `/render_file`
参数同render


### 支持的参数

| 使用 | 说明 | 示例 |
|------|------|------|
| `-l <语言>` | 指定代码语言(自动识别) | `-l python` |
| `-t <主题>` | 指定渲染主题 | `-t dracula` |
| `-s <字号>` | 指定字体大小 | `-s 16` |

### 示例

```

```

使用 Markdown 代码块：

```
/render -t github-dark
​```python
def hello():
    print("Hello, World!")
​```

# 即使不填python,也会自动识别。识别的精准度取决于代码内的语言特性占比。
```

## 配置项

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| theme | 代码主题 | monokai |
| font_family | 字体名称 | Jetbrains Mono |
| font_size | 字体大小 | 14 |
| padding | 内边距 | 20 |
| blacklist | 群聊黑名单 | [] |

### 支持的主题

浏览仓库目录/assets/highlight/styles即可。

## 添加自定义语言

尚未完成

## 依赖

- Pillow >= 9.0.0
- Pygments >= 2.15.0

## 注意事项

- 插件启动时会自动清理临时文件
- 渲染的图片会在 15 分钟后自动清理
